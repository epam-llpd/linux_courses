%% Vars


\begin{frame}
	\frametitle{Переменные}

	\large\center{Нетипизированные!!!}

	Для прямого обращения необходимо использовать префикс \\
	\center{\Large{\tt \$}}

	{\it Можно} использовать фигурные скобки:\\
	\center{\tt \$VARrest != \$\{VAR\}rest}

	\bigskip
	
	\begin{alertblock}{Без префикса}
		\begin{itemize}
			\item Объявление или присвоение
			\item unset -- удаление
			\item В арифметических операциях {\tt (( ... ))}
		\end{itemize}
	\end{alertblock}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Упражнение}

	\begin{lstlisting}
#!/bin/bash

VAR=string
echo $VAR
	\end{lstlisting}


	\begin{block}{Присвоение значения переменной}
		\begin{itemize}
			\item Измените присвоение значения с помощью пробелов до и/или после знака ''{\tt =}''
			\item Присвойте переменной VAR значение: I love \$\$\$!
		\end{itemize}
	\end{block}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Косвенное обращение к переменной}

	Косвенное (indirect) обращение к переменной: {\tt \$\{!VARIABLE\}}

	\begin{block}{Пример}
		\begin{lstlisting}
#!/bin/bash 
num=$# 
lastarg=${!num} 
echo $num $lastarg
		\end{lstlisting}
	\end{block}

\end{frame}


\begin{frame}
	\frametitle{Область видимости переменных}
	\begin{itemize}
		\item Локальные\\
		    Область видимости -- текущая программа, функция или субшелл
		\item Окружения
		\item Позиционные параметры
	\end{itemize}

\end{frame}



\begin{frame}
	\frametitle{Внешние переменные}

	\center{Наследование внешней переменной}

	\begin{itemize}
		\item export
		\item Переданное в командной строке \\
			\begin{block}{Пример}
				{\tt TEST=123 make}
			\end{block}
	\end{itemize}
\end{frame}


\begin{frame}[fragile]
	\frametitle{Специальные переменные}

	Часто используемые в скриптах:

	\begin{itemize}
		\item Разделитель \$IFS
		\item Директории -- домашняя \$HOME и текущая \$PWD
		\item UID пользователя -- \$UID
		\item ID процесса -- \$\$
		\item Имя хоста -- \$HOSTNAME
		\item Вид командной строки: \$PS1 -- \$PS4
		\item Локализация
			\begin{itemize}
				\item Используемый язык \$LANG
				\item Локализация \$LC\_ALL
					\begin{block}{Пример}
						\begin{lstlisting}
ls -l 
LC_ALL=C ls -l
						\end{lstlisting}
					\end{block}
			\end{itemize}
	\end{itemize}

\end{frame}



