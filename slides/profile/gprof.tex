\begin{frame}[fragile]
 \frametitle{Gprof}
 \begin{itemize}
   \item Компилировать с опцией \texttt{-pg}
\begin{lstlisting}[language=sh]
 gcc -g -pg -o program program.c
\end{lstlisting}
   \item Создается файл gmon.out
   \item Просмотр статистики (плоский профиль, flat profile) 
\begin{lstlisting}[language=sh]
gprof program -p -b
\end{lstlisting}
    \item Просмотр графа вызовов со статистикой
\begin{lstlisting}[language=sh]
gprof program -q -b
\end{lstlisting}
    \item Аннотация исходного кода
\begin{lstlisting}[language=sh]
gprof program -A
\end{lstlisting}
 \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Упражнение}

  \begin{enumerate}
%    \item Изменить Makefile для primefactors.c, так, чтобы включить профилирование
%    \item Просмотреть информацию профайлером
    \item Посмотреть статистику в режиме Flat Profile:\\
        {\tt gprof -b -p ./gzip }
    \item Посмотреть граф вызовов:\\
        {\tt gprof -b -q ./gzip}
    \item Посмотреть код с аннотациями:\\
        {\tt gprof -A ./gzip}
  \end{enumerate}
\end{frame}

